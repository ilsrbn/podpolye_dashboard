import{d as m,r as g,c as y,w as a,u as t,a as h,o as N,b as v,e as s,f as p,g as _}from"./index-fdd3cc02.js";import{u as w,a as x,N as B,b as d,p as k}from"./error-e1b3be0e.js";import{N as C}from"./Button-5d9ace55.js";import{N as c}from"./Input-b469e38e.js";import{N as E}from"./Card-f80ad9a4.js";import{N as K}from"./Layout-e63e74a1.js";const A={style:{height:"100%",width:"100%",display:"flex","align-items":"center","justify-content":"center"}},j=m({__name:"login.page",setup(L){const l=w(),u=x(),f=h(),o=g({username:"",password:""});async function i(){try{const{access_token:r}=await u.authorization.login(o.value);u.request.config.TOKEN=r,localStorage.setItem("authBearer",r),await f.push({name:"posts"})}catch(r){const e=k(r);Array.isArray(e)?e.forEach(n=>l.error(n)):l.error(e)}}return(r,e)=>(N(),y(t(K),{style:{height:"100svh"},"content-style":"padding: 12px"},{default:a(()=>[v("div",A,[s(t(E),{style:{"max-width":"560px","margin-inline":"auto"},onKeyup:_(i,["enter"])},{header:a(()=>[p("Login")]),footer:a(()=>[s(t(C),{onClick:i},{default:a(()=>[p("Login")]),_:1})]),default:a(()=>[s(t(B),{cols:"1","y-gap":"24"},{default:a(()=>[s(t(d),null,{default:a(()=>[s(t(c),{placeholder:"Email",value:o.value.username,"onUpdate:value":e[0]||(e[0]=n=>o.value.username=n)},null,8,["value"])]),_:1}),s(t(d),null,{default:a(()=>[s(t(c),{placeholder:"Password",type:"password",value:o.value.password,"onUpdate:value":e[1]||(e[1]=n=>o.value.password=n)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["onKeyup"])])]),_:1}))}});export{j as default};
